<!-- Loading indicator -->
<div class="text-center py-4" *ngIf="cargando">
  <div class="loading-spinner text-primary"></div>
  <p class="mt-2">Cargando convocatorias...</p>
</div>
<!-- Convocatorias -->
<div *ngIf="!cargando">
  <app-convocatoria-card
    *ngFor="let convocatoria of convocatoriasFiltradas"
    [convocatoria]="convocatoria"
    (verDetalle)="verDetalle.emit(convocatoria)"
    (toggleFavorita)="toggleFavorita.emit({convocatoria: convocatoria, event: $event})">
  </app-convocatoria-card>
<!-- Paginación funcional -->
<nav aria-label="Page navigation" class="mt-4" *ngIf="totalPaginas > 1">
  <ul class="pagination justify-content-center">
    <li class="page-item" [class.disabled]="paginaActual === 0">
      <a class="page-link" (click)="cambiarPagina.emit(paginaActual - 1)">Anterior</a>
    </li>

    <li *ngFor="let p of paginasVisibles" class="page-item" [class.active]="p === paginaActual">
      <a class="page-link" (click)="cambiarPagina.emit(p)">{{ p + 1 }}</a>
    </li>

    <li class="page-item" [class.disabled]="paginaActual === totalPaginas - 1">
      <a class="page-link" (click)="cambiarPagina.emit(paginaActual + 1)">Siguiente</a>
    </li>
  </ul>
</nav>
  <!-- Sin resultados -->
  <div class="text-center py-5" *ngIf="convocatoriasFiltradas.length === 0">
    <i class="fas fa-search fa-3x text-muted mb-3"></i>
    <h5>No se encontraron convocatorias</h5>
    <p class="text-muted">Intenta ajustar los filtros de búsqueda</p>
    <button class="btn btn-primary" (click)="limpiarFiltros.emit()">Limpiar filtros</button>
  </div>
</div>
